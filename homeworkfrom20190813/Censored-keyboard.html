<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>

</head>
<body>
  <!-- <input type="text" onpaste='return false' onkeypress='return filter(event)'> -->
  <input type="text">

  <script>
    var input = document.querySelector('input')
    
    input.addEventListener('keypress', e => {
      if (/[QWX]/.test(e.key)) e.preventDefault()
    })
    
    input.addEventListener('input', e => {
      console.log(input.value.length)
      var l = input.selectionStart
      input.value = input.value.replace(/[QWX]/g, '*')
      input.selectionEnd = input.selectionStart = l
    })



    // input.addEventListener('paste', e => {
    //   var pasted = e.clipboardData.getData('text/plain').replace(/[QWX]/g, '*')
    //   var from = input.selectionStart
    //     , to = input.selectionEnd
    //   input.value = input.value.slice(0, input.selectionStart) + pasted + input.value.slice(input.selectionEnd)
    //   input.selectionStart = input.selectionEnd = from + pasted.length
    //   e.preventDefault()
    // })

    // function filter(e) {
    //   if (/[QWX]/.test(e.key)) return false
    //   return true
    // }
    // var input = document.querySelector('input')
    // input.addEventListener('keydown', e => {
    //   console.log(e.charCode)
    //   input.value = input.value.replace(/[QWX]/g,'')
    // })
    // input.addEventListener('keypress', e => {
    //   input.value = input.value.replace(/[QWX]/g,'')
    // })
    // input.addEventListener('keyup', e => {
    //   input.value = input.value.replace(/[QWX]/g,'')
    // })
    // input.addEventListener('paste', e => {
    //   input.value = input.value.replace(/[QWX]/g,'')
    // })
  </script>
</body>
</html>